<app-form
  title="Módulo de Clientes"
  description="Gestión de clientes en la aplicación"
  icon="pi-briefcase"
  iconColor="blue"
  [editing]="editing"
  entityName="cliente"
>
  <form
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    class="space-y-6"
  >
    <div class="grid md:grid-cols-2 gap-6">
      <app-input
        label="Clave"
        formControlName="clave"
        placeholder="Ej. CLI-123"
      />
      <app-input
        label="Nombre"
        formControlName="nombre"
        [invalid]="form.controls.nombre.touched && form.controls.nombre.invalid"
        placeholder="Nombre del cliente"
      />
      <app-input
        label="Tipo"
        type="select"
        formControlName="tipo"
        [options]="types"
        placeholder="Selecciona..."
        [invalid]="form.controls.tipo.touched && form.controls.tipo.invalid"
        [message]="
          form.controls.tipo.touched && form.controls.tipo.invalid
            ? 'Tipo requerido'
            : ''
        "
      />
      <app-input
        label="Contacto"
        formControlName="contacto"
        placeholder="Dirección, correo o número de teléfono"
      />
      <div class="md:col-span-2">
        <label class="block text-sm font-medium mb-1">Notas</label>
        <textarea
          formControlName="notas"
          rows="3"
          class="w-full rounded-xl bg-white dark:bg-dark-800 text-gray-900 dark:text-white placeholder:text-gray-500 ring-1 ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-yellow-600 dark:focus:ring-yellow-500 outline-none px-3 py-2"
        ></textarea>
      </div>
    </div>

    <div class="flex items-center justify-end gap-3 pt-4">
      <button
        type="button"
        (click)="goBack()"
        class="px-5 py-2.5 rounded-xl text-sm font-semibold hover:bg-dark-50 dark:hover:bg-dark-600 text-dark-500 dark:text-dark-100"
      >
        <i class="pi pi-times"></i>
        <span> Cancelar </span>
      </button>
      <button
        type="submit"
        [disabled]="loading"
        class="inline-flex items-center gap-2 hover:bg-blue-600 hover:text-white text-blue-600 dark:text-blue-400 dark:hover:bg-blue-600 font-semibold disabled:opacity-60 px-6 py-2.5 rounded-xl text-sm"
      >
        <i
          class="pi"
          [ngClass]="
            loading ? 'pi-spin pi-spinner' : editing ? 'pi-check' : 'pi-save'
          "
        ></i>
        <span>{{ editing ? "Listo" : "Guardar" }}</span>
      </button>
    </div>
  </form>
</app-form>
